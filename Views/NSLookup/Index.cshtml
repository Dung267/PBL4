@{
    ViewData["Title"] = "NSLookup - Tra cứu DNS";
}

<h2>NSLookup - Tra cứu DNS</h2>

<form method="post" asp-controller="NSLookup" asp-action="Index">
    <div style="margin-bottom:10px;">
        <label>Nhập tên miền hoặc IP:</label><br />
        <input type="text" name="domainOrIp" value="@ViewBag.DomainOrIp" style="width:300px;padding:5px;" />
    </div>

    <div style="margin-bottom:10px;">
        <label>Chọn loại bản ghi DNS:</label><br />
        <select name="recordType" style="width:200px;padding:5px;">
            <option value="">-- Mặc định (A + AAAA) --</option>
            <option value="A" selected="@(ViewBag.RecordType == "A")">A (IPv4)</option>
            <option value="AAAA" selected="@(ViewBag.RecordType == "AAAA")">AAAA (IPv6)</option>
            <option value="CNAME" selected="@(ViewBag.RecordType == "CNAME")">CNAME</option>
            <option value="PTR" selected="@(ViewBag.RecordType == "PTR")">PTR (Reverse lookup)</option>
        </select>
    </div>
    <div style="display: flex; gap: 20px; align-items: flex-end; margin-bottom:15px;">
        <div>
            <label>Máy chủ DNS (tùy chọn):</label><br />
            <input type="text" name="customDns" value="@ViewBag.CustomDns" placeholder="8.8.8.8" style="width:200px;padding:5px;" />
        </div>

        <div>
            <label>Timeout (ms):</label><br />
            <input type="number" name="timeout" value="@ViewBag.Timeout" min="500" max="10000" step="500" style="width:100px;padding:5px;" />
        </div>

        <div>
            <label>Số lần thử lại (Retries):</label><br />
            <input type="number" name="retries" value="@ViewBag.Retries" min="1" max="5" style="width:100px;padding:5px;" />
        </div>
    </div>  
    <button type="submit" style="padding:5px 15px;">Tra cứu</button>
</form>

<hr />

@if (ViewBag.Result != null)
{
    <h3>Kết quả:</h3>
    <pre style="background-color:black;color:forestgreen;padding:10px;border-radius:8px;">@ViewBag.Result</pre>
}
